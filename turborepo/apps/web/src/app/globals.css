@import "tailwindcss";
@import "tw-animate-css";

@config "../../tailwind.config.ts";
@plugin "tailwindcss-motion";
@plugin "@tailwindcss/typography";

/*
  https://tailwindcss.com/docs/dark-mode#toggling-dark-mode-manually

  Uncomment the following to use a CSS Selector instead of the `prefers-color-scheme` media-query

  @custom-variant dark (&:where(.dark, .dark *));
*/

/*
  https://tailwindcss.com/docs/dark-mode#using-a-data-attribute

  Using a data-attribute instead of a dark theme selector

*/
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@font-face {
  font-family: "CalSans";
  src: url("/fonts/CalSans-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "CalSans";
  src: url("/fonts/CalSans-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-Black.woff2") format("woff2");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-BlackItalic.woff2") format("woff2");
  font-weight: 800;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-BoldItalic.woff2") format("woff2");
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-Italic.woff2") format("woff2");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-Light.woff2") format("woff2");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-LightItalic.woff2") format("woff2");
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-Medium.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-MediumItalic.woff2") format("woff2");
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "BasisGrotesquePro";
  src: url("/fonts/BasisGrotesquePro-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@theme {
  --font-cal-sans: CalSans, sans-serif;
  --font-basis: BasisGrotesquePro, sans-serif;
  --font-inter: var(--font-inter);
  --color-background: oklch(100% 0 0);
  --color-foreground: oklch(14.45% 0 0);
  --color-card: oklch(100% 0 0);
  --color-card-foreground: oklch(14.45% 0 0);
  --color-popover: oklch(100% 0 0);
  --color-popover-foreground: oklch(14.45% 0 0);
  --color-primary: oklch(54.49% 0.2154 262.7);
  --color-primary-foreground: oklch(98.48% 0 0);
  --color-secondary: oklch(97.03% 0 0);
  --color-secondary-foreground: oklch(20.44% 0 0);
  --color-muted: oklch(97.03% 0 0);
  --color-muted-foreground: oklch(55.55% 0 0);
  --color-accent: oklch(97.03% 0 0);
  --color-accent-foreground: oklch(20.44% 0 0);
  --color-destructive: oklch(63.68% 0.2078 25.33);
  --color-destructive-foreground: oklch(98.48% 0 0);
  --color-border: oklch(92.19% 0 0);
  --color-input: oklch(92.19% 0 0);
  --color-ring: oklch(54.49% 0.2154 262.7);
  --color-chart-1: oklch(67.72% 0.1571 35.19);
  --color-chart-2: oklch(63.09% 0.1013 183.5);
  --color-chart-3: oklch(37.87% 0.04398 225.5);
  --color-chart-4: oklch(83.36% 0.1186 88.15);
  --color-chart-5: oklch(78.34% 0.1261 58.75);
  --color-hue-0: oklch(0.9434 0.199 105.96);
  --color-hue-1: oklch(0.6477 0.263 359.98);
  --color-hue-2: oklch(0.6404 0.3 324.36);
  --color-hue-3: oklch(0.5636 0.292 301.63);
  --color-hue-4: oklch(0.5898 0.211 259.36);
  --color-hue-5: oklch(0.8203 0.141 210.49);
  --color-hue-6: oklch(0.8842 0.107 168.47);
  --color-brand-background: oklch(100% 0 0);
  --color-brand-sidebar: oklch(97.72% 0 0);
  --color-brand-component: oklch(96.19% 0 0);
  --color-brand-border: oklch(92.34% 0 0);
  --color-brand-ring: oklch(64.95% 0.1913 253.6);
  --color-brand-primary: oklch(95.28% 0.005264 247.9);
  --color-brand-primary-foreground: oklch(32.11% 0 0);
  --color-brand-text: oklch(24.84% 0 0);
  --color-brand-text-muted: oklch(51.03% 0 0);
  --color-brand-text-emphasis: oklch(18.15% 0 0);
  --color-prose-pre-bg: oklch(97.015% 0.00011 271.152);
  --color-prose-pre-text: oklch(24.776% 0.00003 271.152);
  --color-prose-code-not-pre-code-text: oklch(18.15% 0 0);
  --color-prose-code-not-pre-code-bg: oklch(94.611% 0.00011 271.152);
  --color-prose-pre-token-comment-doctype-prolog-cdata-text: oklch(
    51.028% 0.00006 271.152
  );
  --color-prose-pre-token-punctuation-text: oklch(42.024% 0.00005 271.152);
  --color-prose-pre-token-property-tag-boolean-number-constant-symbol-deleted-text: oklch(
    54.586% 0.20291 356.499
  );
  --color-prose-pre-token-selector-attrname-string-char-builtin-inserted-text: oklch(
    57.729% 0.12624 156.126
  );
  --color-prose-pre-token-operator-entity-url-language-css-style-text: oklch(
    56.233% 0.1106 236.093
  );
  --color-prose-pre-token-atrule-attrvalue-keyword-text: oklch(
    54.201% 0.2263 311.436
  );
  --color-prose-pre-token-function-classname-text: oklch(
    63.075% 0.13435 60.247
  );
  --color-prose-pre-token-regex-important-variable-text: oklch(
    33.581% 0.12548 23.959
  );
  --color-prose-pre-code-class-language-wildcard-text: oklch(
    24.776% 0.00003 271.152
  );

  --radius-sm: 0.25rem;

  --container-8xl: 96rem;
  --container-9xl: 120rem;
  --container-10xl: 173.75rem;

  --spacing-8xl: 96rem;
  --spacing-9xl: 120rem;
  --spacing-10xl: 173.75rem;

  --perspective-1000: 1000px;

  --text-sxs: 0.625rem;
  --text-sxs--line-height: calc(0.875 / 0.625);
  --text-xxs: 0.5rem;
  --text-xxs--line-height: calc(0.75 / 0.5);

  --animate-shimmer: shimmer 3s cubic-bezier(0.4, 0.7, 0.6, 1) infinite;
  @keyframes shimmer {
    0% {
      opacity: 0.5;
    } /* Start with a semi-transparent state */
    50% {
      opacity: 1;
    } /* Become fully visible */
    100% {
      opacity: 0.5;
    } /* Return to semi-transparent */
  }

  --animate-twinkle: twinkle 5s infinite;
  @keyframes twinkle {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.2;
    }
  }
}

@layer theme {
  .dark {
    --color-background: oklch(14.45% 0 0);
    --color-foreground: oklch(98.48% 0 0);
    --color-card: oklch(14.45% 0 0);
    --color-card-foreground: oklch(98.48% 0 0);
    --color-popover: oklch(14.45% 0 0);
    --color-popover-foreground: oklch(98.48% 0 0);
    --color-primary: oklch(98.48% 0 0);
    --color-primary-foreground: oklch(20.44% 0 0);
    --color-secondary: oklch(26.86% 0 0);
    --color-secondary-foreground: oklch(98.48% 0 0);
    --color-muted: oklch(26.86% 0 0);
    --color-muted-foreground: oklch(71.53% 0 0);
    --color-accent: oklch(26.86% 0 0);
    --color-accent-foreground: oklch(98.48% 0 0);
    --color-destructive: oklch(39.59% 0.1331 25.72);
    --color-destructive-foreground: oklch(98.48% 0 0);
    --color-border: oklch(26.86% 0 0);
    --color-input: oklch(26.86% 0 0);
    --color-ring: oklch(86.97% 0 0);
    --color-chart-1: oklch(52.92% 0.1931 262.1);
    --color-chart-2: oklch(69.83% 0.1337 165.5);
    --color-chart-3: oklch(72.32% 0.15 60.63);
    --color-chart-4: oklch(61.92% 0.2037 312.7);
    --color-chart-5: oklch(61.23% 0.2093 6.386);
    --color-hue-0: oklch(0.9434 0.199 105.96);
    --color-hue-1: oklch(0.6477 0.263 359.98);
    --color-hue-2: oklch(0.6404 0.3 324.36);
    --color-hue-3: oklch(0.5636 0.292 301.63);
    --color-hue-4: oklch(0.5898 0.211 259.36);
    --color-hue-5: oklch(0.8203 0.141 210.49);
    --color-hue-6: oklch(0.8842 0.107 168.47);
    --color-brand-background: oklch(17.24% 0.03273 270.9);
    --color-brand-sidebar: oklch(20.27% 0.03782 271);
    --color-brand-component: oklch(24.68% 0.0374 269.5);
    --color-brand-border: oklch(31.62% 0.03712 272.2);
    --color-brand-ring: oklch(60.13% 0.1982 263.1);
    --color-brand-primary: oklch(60.13% 0.1982 263.1);
    --color-brand-primary-foreground: oklch(97.06% 0.01392 258.3);
    --color-brand-text: oklch(100% 0 0);
    --color-brand-text-muted: oklch(70.79% 0 0);
    --color-brand-text-emphasis: oklch(100% 0 0);
    --color-prose-pre-bg: oklch(24.68% 0.0374 269.5);
    --color-prose-pre-text: oklch(97.015% 0.00011 271.152);
    --color-prose-code-not-pre-code-text: oklch(80.03% 0.1821 151.71);
    --color-prose-code-not-pre-code-bg: oklch(85.69% 0.0141 247.99 / 0.15);
    --color-prose-pre-token-comment-doctype-prolog-cdata-text: oklch(
      71.37% 0.0192 261.32
    );
    --color-prose-pre-token-punctuation-text: oklch(87.17% 0.0093 258.34);
    --color-prose-pre-token-property-tag-boolean-number-constant-symbol-deleted-text: oklch(
      80.03% 0.1821 151.71
    );
    --color-prose-pre-token-selector-attrname-string-char-builtin-inserted-text: oklch(
      72.17% 0.1767 305.5
    );
    --color-prose-pre-token-operator-entity-url-language-css-style-text: oklch(
      90.52% 0.1657 98.11
    );
    --color-prose-pre-token-atrule-attrvalue-keyword-text: oklch(
      71.37% 0.1434 254.62
    );
    --color-prose-pre-token-function-classname-text: oklch(
      72.53% 0.1752 349.76
    );
    --color-prose-pre-token-regex-important-variable-text: oklch(
      86.06% 0.1731 91.94
    );
    --color-prose-pre-code-class-language-wildcard-text: oklch(
      97.015% 0.00011 271.152
    );
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/

:root {
  --radius: 0.5rem;
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
  * {
    border-color: var(--color-border);
  }
  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
  }
}

@supports not (backdrop-filter: blur(4px)) {
  .backdrop-blur-sm {
    background-color: color-mix(
      in oklab,
      var(--color-background) 90%,
      transparent
    );
  }
}

@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  .container {
    margin-inline: auto;
    @apply [padding-inline:1rem] sm:[padding-inline:2rem] lg:[padding-inline:3rem];
  }
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

input,
button,
textarea,
select {
  font: inherit;
}

body {
  overflow-x: hidden;
}
pre {
  /* General pre styling, will be refined by prose */
  padding: 0.5rem;
  border-radius: 0.5rem;
  overflow-x: auto;
}

pre > code {
  display: grid;
  counter-reset: line;
}

code {
  counter-reset: line;
  line-height: 1.25;
}

code > [data-line] {
  padding-left: 0.5rem;
  border-left: 0.125rem solid transparent;
}

code > [data-line]::before {
  counter-increment: line;
  content: counter(line);
  display: inline-block;
  width: 1.25rem;
  margin-right: 0.75rem;
  text-align: right;
  color: hsl(var(--brand-text-muted)); /* Use muted text for line numbers */
}

.highlighted {
  background-color: color-mix(
    in oklab,
    var(--color-brand-primary) 10%,
    transparent
  );
  border-left: 0.125rem solid
    color-mix(in oklab, var(--color-brand-primary) 50%, transparent);
}

.word {
  background-color: color-mix(
    in oklab,
    var(--color-brand-primary) 20%,
    transparent
  );
  border-radius: 0.25rem;
  padding: 0.1em 0.2em;
}

.prose {
  max-width: none;
}

.prose pre {
  background-color: var(--color-prose-pre-bg);
  color: var(--color-prose-pre-text);
  position: relative;
  padding-top: 1rem;
  padding-bottom: 1rem;
  padding-left: 0.75rem;
  padding-right: 0.75rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  border: 1px solid var(--color-brand-border);
}

.prose pre code {
  color: inherit;
  background-color: transparent;
  padding: 0;
}

/* Light mode inline code */
.prose code:not(pre code) {
  color: var(--color-prose-code-not-pre-code-text);
  background-color: var(--color-prose-code-not-pre-code-bg);
  padding: 0.2em 0.4em;
  border-radius: 0.25rem;
  font-size: 0.9em;
}

.prose a {
  color: var(--color-brand-ring);
  text-decoration: none;
}

.prose a:hover {
  text-decoration: underline;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  color: var(--color-brand-text-emphasis);
}

.prose p,
.prose ul,
.prose ol,
.prose li {
  color: var(--color-brand-text);
}

.prose pre .token.comment,
.prose pre .token.prolog,
.prose pre .token.doctype,
.prose pre .token.cdata {
  color: var(--color-prose-pre-token-comment-doctype-prolog-cdata-text);
}
.prose pre .token.punctuation {
  color: var(--color-prose-pre-token-punctuation-text);
}
.prose pre .token.property,
.prose pre .token.tag,
.prose pre .token.boolean,
.prose pre .token.number,
.prose pre .token.constant,
.prose pre .token.symbol,
.prose pre .token.deleted {
  color: var(
    --color-prose-pre-token-property-tag-boolean-number-constant-symbol-deleted-text
  );
}
.prose pre .token.selector,
.prose pre .token.attr-name,
.prose pre .token.string,
.prose pre .token.char,
.prose pre .token.builtin,
.prose pre .token.inserted {
  color: var(
    --color-prose-pre-token-selector-attrname-string-char-builtin-inserted-text
  );
}
.prose pre .token.operator,
.prose pre .token.entity,
.prose pre .token.url,
.prose pre .language-css .token.string,
.prose pre .style .token.string {
  color: var(
    --color-prose-pre-token-operator-entity-url-language-css-style-text
  );
}
.prose pre .token.atrule,
.prose pre .token.attr-value,
.prose pre .token.keyword {
  color: var(--color-prose-pre-token-atrule-attrvalue-keyword-text);
}
.prose pre .token.function,
.prose pre .token.class-name {
  color: var(--color-prose-pre-token-function-classname-text);
}
.prose pre .token.regex,
.prose pre .token.important,
.prose pre .token.variable {
  color: var(--color-prose-pre-token-regex-important-variable-text);
}
.prose pre code[class*="language-"] {
  color: var(--color-prose-pre-code-class-language-wildcard-text);
}

.prose pre .code-header {
  top: 0.5rem;
  right: 0.5rem;
}
